# 经典C/C++面试题目大汇总(全附答案)

## 资源描述

本资源文件为《经典C/C++面试题目大汇总(全附答案).doc》，文件格式为DOC，共计60多页，包含数百道经典的C/C++面试题目及其详细答案。无论你是准备面试的求职者，还是希望巩固C/C++知识的开发者，这份资源都能为你提供宝贵的参考。

## 资源内容概览

以下是资源中部分题目的示例及其答案：

### 1. 求下面函数的返回值（微软）

```c
int func(int x) {
    int countx = 0;
        while(x) {
                countx ++;
                        x = x&(x-1);
                            }
                                return countx;
                                }
                                ```

                                **假定x = 9999。 答案：8**

                                **思路：** 将x转化为2进制，看含有的1的个数。

                                ### 2. 什么是“引用”？申明和使用“引用”要注意哪些问题？

                                **答：** 引用就是某个目标变量的“别名”(alias)，对应用的操作与对变量直接操作效果完全相同。申明一个引用的时候，切记要对其进行初始化。引用声明完毕后，相当于目标变量名有两个名称，即该目标原名称和引用名，不能再把该引用名作为其他变量名的别名。声明一个引用，不是新定义了一个变量，它只表示该引用名是目标变量名的一个别名，它本身不是一种数据类型，因此引用本身不占存储单元，系统也不给引用分配存储单元。不能建立数组的引用。

                                ### 3. 将“引用”作为函数参数有哪些特点？

                                - **（1）** 传递引用给函数与传递指针的效果是一样的。这时，被调函数的形参就成为原来主调函数中的实参变量或对象的一个别名来使用，所以在被调函数中对形参变量的操作就是对其相应的目标对象（在主调函数中）的操作。
                                - **（2）** 使用引用传递函数的参数，在内存中并没有产生实参的副本，它是直接对实参操作；而使用一般变量传递函数的参数，当发生函数调用时，需要给形参分配存储单元，形参变量是实参变量的副本；如果传递的是对象，还将调用拷贝构造函数。因此，当参数传递的数据较大时，用引用比用一般变量传递参数的效率和所占空间都好。
                                - **（3）** 使用指针作为函数的参数虽然也能达到与使用引用的效果，但是，在被调函数中同样要给形参分配存储单元，且需要重复使用*指针变量名的形式进行运算，这很容易产生错误且程序的阅读性较差；另一方面，在主调函数的调用点处，必须用变量的地址作为实参。而引用更容易使用，更清晰。

                                ### 4. 在什么时候需要使用“常引用”？

                                如果既要利用引用提高程序的效率，又要保护传递给函数的数据不在函数中被改变，就应使用常引用。常引用声明方式：`const 类型标识符 &引用名=目标变量名`；

                                **例1**

                                ```c
                                int a;
                                const int &ra=a;
                                ra=1; //错误
                                a=1; //正确
                                ```

                                **例2**

                                ```c
                                string foo();
                                void bar(string & s);
                                ```

                                那么下面的表达式将是非法的：

                                ```c
                                bar(foo());
                                bar("hello world");
                                ```

                                原因在于`foo()`和`"hello world"`串都会产生一个临时对象，而在C++中，这些临时对象都是`const`类型的。因此上面的表达式就是试图将一个`const`类型的对象转换为非`const`类型，这是非法的。

                                引用型参数应该在能被定义为`const`的情况下，尽量定义为`const`。

                                ### 5. 将“引用”作为函数返回值类型的格式、好处和需要遵守的规则?

                                **格式：** `类型标识符 &函数名（形参列表及类型说明）{ //函数体 }`

                                **好处：** 在内存中不产生被返回值的副本；（注意：正是因为这点原因，所以返回一个局部变量的引用是不可取的。因为随着该局部变量生存期的结束，相应的引用也会失效，产生runtime error!

                                **注意事项：**

                                - **（1）** 不能返回局部变量的引用。这条可以参照Effective C++[1]的Item 31。主要原因是局部变量会在函数返回后被销毁，因此被返回的引用就成为了无所指的引用，程序会进入未知状态。
                                - **（2）** 不能返回函数内部new分配的内存的引用。这条可以参照Effective C++[1]的Item 31。虽然不存在局部变量的被动销毁问题，可对于这种情况（返回函数内部new分配内存的引用），又面临其它尴尬局面。例如，被函数返回的引用只是作为一个临时变量出现，而没有被赋予一个实际的变量，那么这个引用所指向的空间（由new分配）就无法释放，造成memory leak。
                                - **（3）** 可以返回类成员的引用，但最好是const。这条原则可以参照Effective C++[1]的Item 30。主要原因是当对象的属性是与某种业务规则（business rule）相关联的时候，其赋值常常与某些其它属性或者对象的状态有关，因此有必要将赋值操作封装在一个业务规则当中。如果其它对象可以获得该属性的非常量引用（或指针），那么对该属性的单纯赋值就会破坏业务规则的完整性。
                                - **（4）** 流操作符重载返回值申明为“引用”的作用：流操作符`<<`和`>>`，这两个操作符常常希望被连续使用，例如：`cout << "hello" << endl;`　因此这两个操作符的返回值应该是一个仍然支持这两个操作符的流引用。可选的其它方案包括：返回一个流对象和返回一个流对象指针。但是对于返回一个流对象，程序必须重新（拷贝）构造一个新的流对象，也就是说，连续的两个`<<`操作符实际上是针对不同对象的！这无法让人接受。对于返回一个流指针则不能连续使用`<<`操作符。因此，返回一个流对象引用是惟一选择。这个唯一选择很关键，它说明了引用的重要性以及无可替代性，也许这就是C++语言中引入引用这个概念的原因吧。 赋值操作符`=`。这个操作符象流操作符一样，是可以连续使用的，例如：`x = j = 10;`或者`(x=10)=100;`赋值操作符的返回值必须是一个左值，以便可以被继续赋值。因此引用成了这个操作符的惟一返回值选择。

                                **例3**

                                ```c
                                #include <iostream.h>
                                int &put(int n);
                                int vals[10];
                                int error=-1;
                                void main()
                                {
                                    put(0)=10; //以put(0)函数值作为左值，等价于vals[0]=10;
                                        put(9)=20; //以put(9)函数值作为左值，等价于vals[9]=20;
                                            cout<<vals[0];
                                                cout<<vals[9];
                                                }
                                                int &put(int n)
                                                {
                                                    if (n>=0 && n<=9 ) return vals[n];
                                                        else { cout<<"subscript error"; return error; }
                                                        }
                                                        ```

                                                        - **（5）** 在另外的一些操作符中，却千万不能返回引用：`+-*/` 四则运算符。它们不能返回引用，Effective C++[1]的Item23详细的讨论了这个问题。主要原因是这四个操作符没有side effect，因此，它们必须构造一个对象作为返回值，可选的方案包括：返回一个对象、返回一个局部变量的引用，返回一个new分配的对象的引用、返回一个静态对象引用。根据前面提到的引用作为返回值的三个规则，第2、3两个方案都被否决了。静态对象的引用又因为`((a+b) == (c+d))`会永远为true而导致错误。所以可选的只剩下返回一个对象了。

                                                        ### 6. “引用”与多态的关系？

                                                        引用是除指针外另一个可以产生多态效果的手段。这意味着，一个基类的引用可以指向它的派生类实例。

                                                        **例4**

                                                        ```c
                                                        Class A; Class B : Class A{...};  B b; A& ref = b;
                                                        ```

                                                        ### 7. “引用”与指针的区别是什么？

                                                        指针通过某个指针变量指向一个对象后，对它所指向的变量间接操作。程序中使用指针，程序的可读性差；而引用本身就是目标变量的别名，对引用的操作就是对目标变量的操作。此外，就是上面提到的对函数传ref和pointer的区别。

                                                        ### 8. 什么时候需要“引用”？

                                                        流操作符`<<`和`>>`、赋值操作符`=`的返回值、拷贝构造函数的参数、赋值操作符`=`的参数、其它情况都推荐使用引用。

                                                        ### 9. 结构与联合有和区别？

                                                        1. 结构和联合都是由多个不同的数据类型成员组成 但在任何同一时刻 联合中只存放了一个被选中的成员（所有成员共用一块地址空间） 而结构的所有成员都存在（不同成员的存放地址不同）。
                                                        2. 对于联合的不同成员赋值 将会对其它成员重写 原来成员的值就不存在了 而对于结构的不同成员赋值是互不影响的。

                                                        ### 10. 下面关于“联合”的题目的输出？

                                                        **a)**

                                                        ```c
                                                        #include <stdio.h>
                                                        union {
                                                            int i;
                                                                char x[2];
                                                                }a;

                                                                void main() {
                                                                    a.x[0] = 10;
                                                                        a.x[1] = 1;
                                                                            printf("%d", a.i);
                                                                            }
                                                                            ```

                                                                            **答案：266 (低位低地址，高位高地址，内存占用情况是Ox010A）**

                                                                            ## 如何使用本资源

                                                                            1. **下载文件：** 点击下载按钮，获取《经典C/C++面试题目大汇总(全附答案).doc》文件。
                                                                            2. **打开文件：** 使用Microsoft Word或其他支持DOC格式的文档阅读器打开文件。
                                                                            3. **阅读与学习：** 逐题阅读题目及其答案，理解每个问题的解题思路和答案解析。

                                                                            ## 适用人群

                                                                            - 准备C/C++面试的求职者
                                                                            - 希望巩固C/C++知识的开发者
                                                                            - 对C/C++语言有兴趣的学习者

                                                                            ## 注意事项

                                                                            - 本资源仅供参考，实际面试中可能会有不同的题目和要求。
                                                                            - 建议结合实际项目经验进行学习和理解，以更好地掌握C/C++语言的核心概念。

                                                                            祝你学习愉快，面试顺利！

                                                                            ## 下载链接
                                                                            [经典CC面试题目大汇总全附答案](https://pan.quark.cn/s/637600573603) 

                                                                            (备用: [备用下载](https://pan.baidu.com/s/1eJrp1bt_H6NCfKSI_nbaBw?pwd=1234))

                                                                            ## 说明

                                                                            该仓库仅用于学习交流，请勿用于商业用途。
